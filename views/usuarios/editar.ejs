<%- include('../layouts/header') %>

<div class="page-header">
    <h1><%= title %></h1>
    <a href="/usuarios" class="btn btn-secondary">Volver a Usuarios</a>
</div>

<div class="form-container">
    <form action="/usuarios/actualizar/<%= usuario.id %>" method="POST" class="form">
        <!-- Nombre -->
        <div class="form-group">
            <label for="nombre">Nombre *</label>
            <input type="text" id="nombre" name="nombre" class="form-control" value="<%= usuario.nombre %>" required>
        </div>

        <!-- Apellido -->
        <div class="form-group">
            <label for="apellido">Apellido *</label>
            <input type="text" id="apellido" name="apellido" class="form-control" value="<%= usuario.apellido %>" required>
        </div>

        <!-- Email -->
        <div class="form-group">
            <label for="email">Email *</label>
            <input type="email" id="email" name="email" class="form-control" value="<%= usuario.email %>" required>
        </div>

        <!-- Teléfono -->
        <div class="form-group">
            <label for="telefono">Teléfono</label>
            <input type="text" id="telefono" name="telefono" class="form-control" value="<%= usuario.telefono || '' %>">
        </div>

        <!-- Dirección -->
        <div class="form-group">
            <label for="direccion">Dirección</label>
            <input type="text" id="direccion" name="direccion" class="form-control" value="<%= usuario.direccion || '' %>">
        </div>

        <!-- Fecha de Nacimiento -->
        <div class="form-group">
            <label for="fecha_nacimiento">Fecha de Nacimiento</label>
            <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" class="form-control"
                   value="<%= usuario.fecha_nacimiento ? new Date(usuario.fecha_nacimiento).toISOString().split('T')[0] : '' %>">
        </div>

        <!-- Tipo de Usuario -->
        <div class="form-group">
            <label for="tipo_usuario">Tipo de Usuario *</label>
            <select id="tipo_usuario" name="tipo_usuario" class="form-control" required>
                <option value="estudiante" <%= usuario.tipo_usuario === 'estudiante' ? 'selected' : '' %>>Estudiante</option>
                <option value="profesor" <%= usuario.tipo_usuario === 'profesor' ? 'selected' : '' %>>Profesor</option>
                <option value="publico_general" <%= usuario.tipo_usuario === 'publico_general' ? 'selected' : '' %>>Público General</option>
            </select>
        </div>

        <!-- Estado -->
        <div class="form-group">
            <label for="estado">Estado *</label>
            <select id="estado" name="estado" class="form-control" required>
                <option value="activo" <%= usuario.estado === 'activo' ? 'selected' : '' %>>Activo</option>
                <option value="suspendido" <%= usuario.estado === 'suspendido' ? 'selected' : '' %>>Suspendido</option>
                <option value="inactivo" <%= usuario.estado === 'inactivo' ? 'selected' : '' %>>Inactivo</option>
            </select>
        </div>

        <!-- Botones -->
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Actualizar Usuario</button>
            <a href="/usuarios" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>

<%- include('../layouts/footer') %>
